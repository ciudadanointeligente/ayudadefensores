---
import { Image } from 'astro:assets';
import Logoayudadefensores from '@/assets/ayuda-defensores.png';
const { currentPage = '' } = Astro.props;

const getLinkClass = (path: string) => {
  const isActive = currentPage === path || currentPage.startsWith(path + '/');
  return `font-normal text-sm transition delay-150 duration-300 ease-in-out ${isActive ? 'text-cafemedio' : 'text-cafeoscuro hover:text-cafemedio'}`;
};
---

<header>
  <nav x-data="{ open: false }"  class="flex h-auto w-auto py-6 bg-white rounded-lg justify-between
    md:h-14 md:py-12">
    <div class="flex w-full justify-between ">
      <div :class="open ? 'hidden':'flex'" 
        class="flex px-6 w-1/2 items-center font-semibold
        md:w-1/5 md:px-1 md:flex md:items-center md:justify-center"
        x-transition:enter="transition ease-out duration-300">
        <a href="/">
          <Image src={Logoayudadefensores} alt="Logo Ayuda Defensores" class="md:h-12 h-auto w-auto" />
        </a>
      </div>

      <div
        x-show="open" x-transition:enter="transition ease-in-out duration-300"
        class="flex flex-col w-full h-auto
        md:hidden">
        <div class="flex flex-col items-center gap-2">
          <a href="/" class="font-normal text-md text-cafeoscuro hover:text-cafemedio">Inicio</a>
          <a href="/apoyo" class="font-normal text-sm text-cafeoscuro hover:text-cafemedio transition delay-150 duration-300 ease-in-out">Apoyo por país</a>
          <a href="/autoproteccion" class="font-normal text-sm text-cafeoscuro hover:text-cafemedio transition delay-150 duration-300 ease-in-out">Autoprotección</a>
          <a href="/acompanamiento" class="font-normal text-sm text-cafeoscuro hover:text-cafemedio transition delay-150 duration-300 ease-in-out">Acompañamiento</a>
          <a href="/escazu" class="font-normal text-sm text-cafeoscuro hover:text-cafemedio transition delay-150 duration-300 ease-in-out">Escazú</a>
          <button class="bg-cafemedio text-white text-sm font-bold px-4 py-2 rounded-full hover:bg-cafeoscuro transition delay-150 duration-300 ease-in-out">PROTÉGETE</button>
        </div>
      </div>
      <div class="hidden w-full items-center md:gap-12 font-semibold
        md:flex md:w-3/5 md:justify-center">
        <a href="/" class={getLinkClass('/')}>Inicio</a>
        <a href="/apoyo" class={getLinkClass('/apoyo')}>Apoyo por país</a>
        <a href="/autoproteccion" class={getLinkClass('/autoproteccion')}>Autoprotección</a>
        <a href="/acompanamiento" class={getLinkClass('/acompanamiento')}>Acompañamiento</a>
        <a href="/escazu" class={getLinkClass('/escazu')}>Escazú</a>
      </div>
      <div class="hidden w-1/5 items-center justify-evenly font-semibold
        md:flex">
        <button class="bg-cafemedio text-white text-sm font-bold px-4 py-2 rounded-full hover:bg-cafeoscuro transition delay-150 duration-300 ease-in-out">PROTÉGETE</button>
      </div>
      <button class="text-gray-500 w-10 h-10 relative focus:outline-none bg-white
        md:hidden
        " @click="open = !open">
        <span class="sr-only">Open main menu</span>
        <div class="block w-5 absolute left-1/2 top-1/2   transform  -translate-x-1/2 -translate-y-1/2">
          <span aria-hidden="true" class="block absolute h-0.5 w-5 bg-current transform transition duration-500 ease-in-out" :class="{'rotate-45': open,' -translate-y-1.5': !open }"></span>
          <span aria-hidden="true" class="block absolute  h-0.5 w-5 bg-current   transform transition duration-500 ease-in-out" :class="{'opacity-0': open } "></span>
          <span aria-hidden="true" class="block absolute  h-0.5 w-5 bg-current transform  transition duration-500 ease-in-out" :class="{'-rotate-45': open, ' translate-y-1.5': !open}"></span>
        </div>
      </button>
    </div>
  </nav>
</header>
