---
import Layout from '../layouts/Layout-paises.astro';
const paises = [
  { id: 'chile', nombre: 'Chile' },
  { id: 'mexico', nombre: 'México' },
  { id: 'argentina', nombre: 'Argentina' },
  { id: 'bolivia', nombre: 'Bolivia' },
  { id: 'peru', nombre: 'Perú' }
];
---

<Layout title="Apoyo por países">

  <!-- Barra inicial -->
  <section class="flex w-full h-auto md:h-60 bg-[url(../assets/bg-ayudadefensores.png)] bg-cover relative py-2 md:py-0">
    <div class="absolute inset-0 bg-cover -z-10"></div>
    <div class="w-full px-4 flex flex-col items-center gap-4 pt-16 pb-6 md:hidden">
      <span class="w-fit inline-block rounded-2xl px-4 py-1 bg-white text-verde text-[12px] font-medium uppercase"><a href="/" class="hover:text-cafemedio">Inicio</a> / Apoyo</span>
      <h1 class="text-3xl font-extrabold text-cafemedio text-center">APOYO ESTATAL</h1>
      <p class="text-cafeoscuro text-base font-medium text-center leading-relaxed">Acá encontrarás los programas, mecanismos y entidades públicas que pueden brindar apoyo o protección a personas defensoras del ambiente en cada país.</p>
    </div>
    <div class="hidden md:flex absolute md:left-[150px] md:mt-4 top-1/3 -translate-y-1/2 w-[calc(100%-150px)] pr-8 flex flex-col gap-8">
      <span class="w-fit inline-block rounded-2xl px-4 py-1 bg-white text-verde text-[12px] font-medium uppercase"><a href="/" class="hover:text-cafemedio">Inicio</a> / Apoyo</span>
      <div class="flex items-start">
        <h1 class="text-6xl font-extrabold text-cafemedio w-[450px] flex-shrink-0 whitespace-nowrap">APOYO ESTATAL</h1>
        <p class="text-cafeoscuro text-lg font-medium max-w-2xl text-left leading-relaxed ml-[300px]">Acá encontrarás los programas, mecanismos y entidades públicas que pueden brindar apoyo o protección a personas defensoras del ambiente en cada país.</p>
      </div>
    </div>
  </section>

  <!-- Buscador por países -->
  <div class="container max-w-6xl mx-auto px-4 min-h-[400px] overflow-x-hidden">
    <div class="flex flex-wrap gap-4 justify-center py-8">
      {paises.map((pais) => (
      <button
        hx-get={`/paises-parciales/${pais.id}`}
        hx-target="#contenido-pais"
        hx-swap="innerHTML transition:true"
        class="px-4 py-2 bg-cafeoscuro text-white font-medium rounded-full hover:bg-cafemedio transition cursor-pointer"
      >
        {pais.nombre}
      </button>
      ))}
    </div>

    <div id="contenido-pais" class="py-8 fade-in">
      <p class="text-center text-gray-500">Selecciona un país para ver su información</p>
    </div>
  </div>

  <style>
.fade-in {
  animation: fadeIn 0.3s ease-in-out;
}

@keyframes fadeIn {
from { opacity: 0; transform: translateY(10px); }
to { opacity: 1; transform: translateY(0); }
}
  </style>
</Layout>
